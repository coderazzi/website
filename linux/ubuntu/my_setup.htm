<!DOCTYPE html>
<html>

<head>
    <title>Ubuntu - My setup</title>
    <link rel="stylesheet" type="text/css" href="../../css/global.css">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <meta name="Keywords" content="linux, ubuntu">
    <meta name="Author" content="Luis M. Pena">
</head>

<body>
<div id='body'>
    <div id='content'>

        <p class='timestamp'>12th April 2017<span class="timestamp_update">, updated:</span>10th May 2020</p>

        <h1>My own setup for Ubuntu</h1>

        <p>These are the steps I normally use to setup a Ubuntu desktop distribution,
            currently up to Focal Fossa (20.04). For previous Ubuntu distributions, see this
            previous <a href="my_setup_17_04.htm">version</a>.

        <p>This setup only defines the initial installations and basic system configuration, not all the programs
            that I eventually install.</p>

        <h2>Installation</h2>

        <ul>
            <li>Choose minimal installation, without games, etc. Select the checkboxes to download
                updates during the installation and to install 3rd party software.</li>

            <li>Install basic applications from the command line:
                <pre>sudo apt install -y gnome-tweaks git make dconf-editor guake vim curl exfat-utils exfat-fuse</pre>
            </li>
            <li>Install sensors applications, from the command line:
                <pre>sudo apt install -y lm-sensors psensor</pre>
                <pre>sudo sensors-detect</pre>
                <pre>/etc/init.d/kmod start</pre>
            </li>
            <li>Install additional applications from the command line:
                <pre>sudo apt install virtualbox slack</pre>
            </li>
            <li>Install applications using the Ubuntu Software Center:
                <ul>
                    <li>Authy</li>
                    <li>Gimp</li>
                    <li>Intellij Idea Ultimate</li>
                    <li>KeePassXC (snap version)</li>
                    <li>LibreOffice</li>
                    <li>Slack</li>
                    <li>Thunderbird</li>
                    <li>VLC</li>
                </ul>
            </li>
            <li>Install applications using their own installers / instructions:
                <ul>
                    <li><a="https://www.dropbox.com/install">Dropbox</a></li>
                    <li><a href="https://brave.com/download/">Brave browser</a></li>
                    <li><a href="https://www.google.com/chrome/">Chrome browser</a></li>
                    <li><a href="https://www.opera.com/download">Opera browser</a></li>
                    <li><a href="https://vivaldi.com/download/">Vivaldi browser</a></li>
                    <li><a href="https://www.sublimetext.com/3">Sublime text 3</a>. Once opened, it will ask to
                    download a new version: answer no, then enter the licence for Sublime 3, go to preferences / settings
                    and enter <b>{"update_check": false}</b> in the user settings</li>
                    <li>Truecrypt : no link offered, I have my own debian package download from safer times...</li>
                </ul>
            </li>
        </ul>

        <h2>Nvidia</h2>

        <p>I keep using either Intel embedded GPUs or Nvidia cards. For the computers with Nvidia cards,
            I find myself sometimes in a 640x480 resolution. This normally requires re-installing the nvidia driver
            (which I normally install instead of the nouveau driver). The reinstallation can be done:
        </p>
        <ul>
            <li>Opening the "Additional Drivers" application, going to "Additional Drivers" and selecting the
                    preferred option (difficult to see in a 640x480 resolution).
            </li>
            <li>
                In a terminal window, issuing: <code>sudo apt-get install nvidia-driver-460</code>
                (or whichever is the current version)
            </li>
        </ul>

        <h2>Configuration</h2>

        <ul>
            <li><b>Regional format:</b>I live in Luxembourg, but want to use standard English formats.
                I found that the best choice is to select English (Ireland) as regional format.
                Press the Super Key and enter in the search textbox 'Language support',
                then go to the Regional Formats tab in the application and choose English (Ireland),
                then apply system-wide. This step will require a logout / login.</li>

            <li><b>Desktop configuration</b>: open <b>Tweaks</b> application
                <ul>
                    <li>Extensions - <b>desktop icons</b>: set to off, and press the configuration button:
                        hide  personal folder and trash</li>
                    <li><b>Workspaces</b>: Disable dynamic workspaces, enable 4 static workspaces</li>
                    <li><b>Keyboard and Mouse</b>:
                        <ul>
                            <li><b>Overview Shortcut</b>: Right Super. The original, Left Super, I
                                use it better for switching workspaces, as it is done on Mac</li>
                            <li>Additional layout options:
                                <ul>
                                    <li><b>Miscellaneous compatibility options</b>:
                                        Numeric Keypad always enter digits</li>
                                    <li><b>Caps lock behaviour</b>: Caps lock is disabled (not the Disable option)</li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                </ul>
            </li>

            <li><b>Disable usage of Super + Numpad as dock favourites shortcut</b>:
                open <b>dconf-editor</b> application:
                <ul>
                    <li>Navigate to org / gnome / shell / extensions / dash-to-dock,
                        scroll down and find out line says <b>hot-keys</b>, and turn it off.</li>

                    <li>Navigate to org / gnome / shell / keybindings, remove switch-to-application 1...4:
                        Use default value: off, custom value: [''].</li>
                </ul>
            </li>

            <li><b>Disable edges tiling (windows snapping / resizing when brought to the edges)</b>:
                <ul>
                    <li>gsettings set org.gnome.mutter edge-tiling false</li>
                    <li>gsettings set org.gnome.shell.overrides edge-tiling false</li>
                </ul>
            </li>

            <li>Open <b>settings</b> application.
                <ul>
                    <li>Appearance: Dock : Autohide</li>
                    <li>Search : Only enable files and calculator</li>
                    <li>Power : Power Button Action : Suspend</li>
                    <li>Power: Power saving: 4 minutes</li>
                    <li>Privacy / Screen Lock / Blank screen delay: 4 minutes</li>
                    <li>Privacy / Screen Lock / Automatic Screen lock delay: 30 minutes</li>
                    <li>Keyboard shorcuts
                        <ul>
                            <li>Home folder: Windows E</li>
                            <li>Switch to next input source : Disable (backspace).
                                Otherwise,it uses Super + Space</li>
                            <li>Switch to workspace 1: Super + 1</li>
                            <li>Switch to workspace 2: Super + 2</li>
                            <li>Switch to workspace 3: Super + 3</li>
                            <li>Switch to workspace 4: Super + 4</li>
                            <li>Move window to workspace 1: Shift + Super + 1</li>
                            <li>Move window to workspace 2: Shift + Super + 2</li>
                            <li>Move window to workspace 3: Shift + Super + 3</li>
                            <li>Move window to workspace 4: Shift + Super + 4</li>
                        </ul>
                        Note that Super + S allows a workspace view
                    </li>
                </ul>
            </li>

            <li><b>Cleanup dock</b>: remove any applications not required, like Ubuntu software, help, etc, and
                add any new ones</li>

            <li>Configure <b>Nautilus</b>
                <ul>
                    <li>Remove from Nautilus entries to Documents, Music, Pictures, Videos and Desktop:
                        Open the file <b>~/.config/user-dirs.dirs</b>, and modify all entries that should not
                        appear. For example, to have only a DOWNLOAD folder, this file should have
                        the following content (note that XDG_DESKTOP_DIR keeps its original value):
                        <pre>XDG_DOWNLOAD_DIR="$HOME/Downloads"
XDG_DESKTOP_DIR="$HOME/Desktop"
XDG_TEMPLATES_DIR="$HOME/"
XDG_PUBLICSHARE_DIR="$HOME/"
XDG_DOCUMENTS_DIR="$HOME/"
XDG_MUSIC_DIR="$HOME/"
XDG_PICTURES_DIR="$HOME/"
XDG_VIDEOS_DIR="$HOME/"</pre>
                    </li>
                    <li>Show files as list in nautilus, in small size:
                        <pre>gsettings set org.gnome.nautilus.preferences default-folder-viewer list-view
gsettings set org.gnome.nautilus.list-view default-zoom-level small</pre>
                    </li>
                    <li>It is needed to reset nautilus:
                        <pre>killall nautilus</pre>
                    </li>
                    <li>Now, when Nautilus is open again, there will be entries for Documents, Music, etc,
                        but right clicking on them shows the Remove option</li>
                </ul>
            </li>

            <li><b>Start guake at login</b>: Open Startup Applications (use launcher), press add, enter
                Guake as name, and /usr/bin/guake as command</li>

            <li>On a Mac keyboard, avoid having to press Fn to key F1 to F12:
                <pre>
    sudo -s
    echo options hid_apple fnmode=2 > /etc/modprobe.d/hid_apple.conf
    update-initramfs -u</pre>

            </li>

            <li><b>Hide top bar in Gnome desktop</b>: open a terminal, and enter:
                <pre>mkdir -p ~/.local/share/gnome-shell/extensions/
cd ~/.local/share/gnome-shell/extensions/
git clone https://github.com/mlutfy/hidetopbar.git hidetopbar@mathieu.bidon.ca
cd hidetopbar@mathieu.bidon.ca
make schemas
cd ..
gnome-extensions enable hidetopbar@mathieu.bidon.ca
</pre>
            </li>
        </ul>

        <h2>Browsers configuration</h2>

        <ul>
            <li><b>Block notifications across the browsers, and maximize privacy</b>:
                <ul>
                    <li>Brave:
                        <ul>
                            <li>Settings:
                                <ul>
                                    <li>Sync: activate it across devices, syncing bookmarks, extensions, settings and theme</li>
                                    <li>Shields: Trackers & ads blocking: aggressive</li>
                                    <li>Social media blocking: disable Facebook, Linkedin</li>
                                    <li>Additional settings: autofill: passwords: do not offer to save passwords</li>
                                </ul>
                            </li>
                            <li>Extensions: include uBlocker (Adblock tool for Chrome)</li>
                            <li>settings / Additional settings / Privacy and security /
                                Site and Shield settings / Notifications: set off
                                <b>Sites can ask to send notifications</b>
                            </li>
                        </ul>
                    </li>
                    <li>Chrome: enable synchronization using account.
                        <ul>
                            <li>Settings:
                                <ul>
                                    <li>autofill / passwords: do not offer to save passwords</li>
                                    <li>security / safe browsing: standard protection</li>
                                    <li>privacy and security / Site Settings / Notifications:
                                        <b>Don't allow sites to send notifications</b>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                    <li>Firefox: enable synchronization with firefox login.
                        <ul>
                            <li>Enable bookmarks: mouse right-click at the right of the URL bar, select
                            Bookmark toolbar, click on Always Show</li>
                            <li>Settings / Privacy and security:
                                <ul>
                                    <li>Enhanced tracking protection: Strict</li>
                                    <li>Logins and passwords: uncheck Ask to save logins and passwords for websites</li>
                                    <li>Permissions: Notifications: set the checkbox
                                        <b>Block new requests asking to allow notifications</b>, then save the changes
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                    <li>Opera:
                        <ul>
                            <li>Advanced settings: Privacy protection</li>
                            <ul>
                                <li>Block ads</li>
                                <li>Block trackers</li>
                            </ul>
                            <li>enter the URL: opera://settings/content/notifications , then set
                                <b>Sites can ask to send notifications</b> off
                            </li>
                        </ul>
                    </li>
                    <li>Vivaldi:
                        <ul>
                            <li>Webpages, notifications: block</li>
                        </ul>
                    </li>
                </ul>
            </li>
        </ul>

        <h2>SSH settings</h2>

        <p>Basically, follow these <a href="/howto/security/ssh_keys.html">instructions</a></p>
        <pre>ssh-keygen -t rsa -b 4096</pre>
        <p>Then copy the public id in the ~/.ssh/authorized_keys files of the reachable hosts.</p>

        <p>I use different keys for other services, like git. To generate any additional key with a comment</p>
        <pre>ssh-keygen -t rsa -b 4096 -f hg_id_rsa -C coderazzi@summer-git,hg</pre>


        <p>Finally, reboot the system for all configuration changes to take place.</p>
    </div>
</div>
</body>
</html>